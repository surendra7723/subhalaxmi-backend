/* Critical CSS optimizations for better Core Web Vitals */

/* =============================================================================
   CRITICAL ABOVE-THE-FOLD STYLES (Inline these in production)
   ============================================================================= */

/* Immediate load optimization */
.loading {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.loaded {
    opacity: 1;
}

/* Performance-optimized animations */
.fade-in-up {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: opacity, transform;
}

.fade-in-up.loaded,
.fade-in-up:hover {
    opacity: 1;
    transform: translateY(0);
}

/* Optimized layout shifts prevention */
.product-card {
    min-height: 300px; /* Prevent layout shift */
    contain: layout style paint; /* CSS containment for performance */
}

.product-image {
    aspect-ratio: 1 / 1; /* Maintain aspect ratio to prevent layout shift */
    object-fit: cover;
    width: 100%;
    height: auto;
}

/* Lazy loading optimization */
.lazy-image {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.lazy-image.loaded {
    opacity: 1;
}

/* Performance-optimized navbar */
.navbar {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    will-change: transform;
    contain: layout style paint;
}

/* Optimized mobile menu */
.nav-menu {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
}

.nav-menu.active {
    transform: translateX(0);
}

/* =============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================= */

/* GPU acceleration for smooth animations */
.smooth-animation {
    transform: translateZ(0); /* Force hardware acceleration */
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Optimize font loading */
@font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 400;
    font-display: swap; /* Improve font loading performance */
    src: url('path-to-inter-font.woff2') format('woff2');
}

/* Reduce paint complexity */
.complex-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-attachment: fixed; /* Remove this for better performance on mobile */
}

/* Optimized shadows */
.optimized-shadow {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    /* Instead of multiple box-shadows */
}

/* =============================================================================
   RESPONSIVE OPTIMIZATIONS
   ============================================================================= */

/* Mobile-first approach for better performance */
@media (max-width: 768px) {
    /* Reduce animation complexity on mobile */
    .fade-in-up {
        transition-duration: 0.3s; /* Faster on mobile */
    }
    
    /* Optimize mobile layouts */
    .product-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
    
    /* Reduce visual effects on mobile for better performance */
    .navbar {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        background: rgba(255, 255, 255, 0.95);
    }
}

@media (min-width: 769px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
    }
}

/* =============================================================================
   LAYOUT SHIFT PREVENTION
   ============================================================================= */

/* Prevent layout shifts for images */
.aspect-ratio-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 100%; /* 1:1 aspect ratio */
}

.aspect-ratio-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Skeleton loading for better perceived performance */
.skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
}

@keyframes loading {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

/* =============================================================================
   CRITICAL RESOURCE OPTIMIZATION
   ============================================================================= */

/* Preload critical images */
.hero-image {
    content: '';
    display: block;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2VlZSIvPjwvc3ZnPg==');
    background-size: cover;
    background-position: center;
    width: 100%;
    height: 400px;
}

/* Optimize button interactions */
.btn {
    transition: all 0.2s ease;
    will-change: transform;
    cursor: pointer;
}

.btn:hover {
    transform: translateY(-2px);
}

.btn:active {
    transform: translateY(0);
}

/* =============================================================================
   ACCESSIBILITY AND PERFORMANCE
   ============================================================================= */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus management for keyboard users */
.skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    transition: top 0.3s;
}

.skip-link:focus {
    top: 6px;
}

/* =============================================================================
   PRODUCTION OPTIMIZATIONS
   ============================================================================= */

/* These should be applied via build tools in production */

/* Unused CSS removal hint */
/* Use tools like PurgeCSS to remove unused styles */

/* Critical CSS extraction hint */
/* Extract above-the-fold CSS and inline it */

/* CSS minification hint */
/* Minify CSS for production */

/* Gzip compression hint */
/* Enable gzip compression on server */
